<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Attendance Dashboard | By Code Info</title>
    <link rel="stylesheet" href="task.css" />
    <!-- Font Awesome Cdn Link -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>
    <div class="line"></div>
    <header class="header">
      <div class="logos">
        <a href="#">TraceTool-PS</a>
        <div class="search_box">
          <input type="search" placeholder="Search Traceability" />
          <i class="fa-solid fa-search"></i>
        </div>
      </div>
      <div class="user-info">
        <img class="acc" src="./img/user.png" alt="" />
        <div id="username">Hello! Fixed-Term Diem Trinh</div>
      </div>

      <div class="header-icons">
        <i class="fas fa-bell"></i>
        <div class="account">
          <h4 class="dthub">DTHub</h4>
          <img class="key" src="./img/msn3-5.png" alt="" />
        </div>
      </div>
    </header>

    <div class="container">
      <nav>
        <ul>
          <li>
            <a href="#" class="logo">
              <img src="./img/icon_global.png" />
              <span class="nav-item1" style="color: black">Work Trace</span>
            </a>
          </li>
          <li>
            <a href="./main.html">
              <i class="fas fa-solar-panel"></i>
              <span class="nav-item">Item Panel</span>
            </a>
          </li>
          <li>
            <a href="./task.html">
              <i class="fas fa-list-check"></i>
              <span class="nav-item">Certification</span>
            </a>
          </li>
          <li>
            <a href="./report.html">
              <i class="fas fa-users-rectangle"></i>
              <span class="nav-item">Learning Portal</span>
            </a>
          </li>
          <li>
            <a href="./note.html">
              <i class="fas fa-table-list"></i>
              <span class="nav-item">Trace Box</span>
            </a>
          </li>
          <li>
            <a href="#">
              <i class="fas fa-user-tie"></i>
              <span class="nav-item">About me</span>
            </a>
          </li>
        </ul>
      </nav>

      <section class="main">
        <div class="main-body">
          <h1 id="ttl">Task Container</h1>
          <div class="attendance-list1">
            <div class="gradient-bar">
              <div class="color-1"></div>
              <div class="color-2"></div>
              <div class="color-3"></div>
              <div class="color-4"></div>
              <div class="color-5"></div>
              <div class="color-6"></div>
              <div class="color-7"></div>
              <div class="color-8"></div>
              <div class="color-9"></div>
            </div>
            <div class="skill-container">
              <div class="skill">
                <div class="outer">
                  <div class="inner">
                    <div class="number" data-num="10">10%</div>
                  </div>
                </div>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  version="1.1"
                  width="160px"
                  height="160px"
                >
                  <defs>
                    <linearGradient id="GradientColor1">
                      <stop offset="0%" stop-color="#1e9600" />
                      <stop offset="100%" stop-color="#dedf25" />
                    </linearGradient>
                  </defs>
                  <circle
                    cx="80"
                    cy="80"
                    r="70"
                    stroke-linecap="round"
                    class="circle-1"
                  />
                </svg>
              </div>

              <div class="skill">
                <div class="outer">
                  <div class="inner">
                    <div class="number numberx" data-num="65">65%</div>
                  </div>
                </div>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  version="1.1"
                  width="160px"
                  height="160px"
                >
                  <defs>
                    <linearGradient id="GradientColor2">
                      <stop offset="0%" stop-color="#56c1ff" />
                      <stop offset="100%" stop-color="#1e3c72" />
                    </linearGradient>
                  </defs>
                  <circle
                    cx="80"
                    cy="80"
                    r="70"
                    stroke-linecap="round"
                    class="circle-2"
                  />
                </svg>
              </div>

              <div class="skill">
                <div class="outer">
                  <div class="inner">
                    <div class="number numberxx" data-num="80">80%</div>
                  </div>
                </div>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  version="1.1"
                  width="160px"
                  height="160px"
                >
                  <defs>
                    <linearGradient id="GradientColor3">
                      <stop offset="0%" stop-color="#7811f7" />
                      <stop offset="100%" stop-color="#d443f5" />
                    </linearGradient>
                  </defs>
                  <circle
                    cx="80"
                    cy="80"
                    r="70"
                    stroke-linecap="round"
                    class="circle-3"
                  />
                </svg>
              </div>
            </div>

            <div class="form-container">
              <form id="queryForm">
                <div class="form-group">
                  <label for="subName">SubName:</label>
                  <input
                    type="text"
                    id="subName"
                    name="SubName"
                    placeholder="Enter SubName"
                    required
                  />
                </div>

                <div class="form-group">
                  <label for="level">Level:</label>
                  <select id="level" name="Level" required>
                    <option value="">Select Level</option>
                    <option value="Low">Low</option>
                    <option value="Middle">Middle</option>
                    <option value="High">High</option>
                  </select>
                </div>

                <div class="form-group">
                  <label for="artifact">Artifact:</label>
                  <select id="artifact" name="Artifact" required>
                    <option value="">Select Artifact</option>
                    <option value="On Site">On Site</option>
                    <option value="Local">Local</option>
                  </select>
                </div>

                <div class="button-group">
                  <button type="button">QUERY</button>
                  <button type="button">UPLOAD</button>
                  <button type="button" id="analyzeBtn">ANALYZE</button>
                </div>
              </form>
            </div>
          </div>
          <div class="attendance-list2">
            <div class="table-container">
              <table id="resizableTable">
                <thead>
                  <tr>
                    <th>Issue ID</th>
                    <th>Issue Title</th>
                    <th>Release ID</th>
                    <th>Release</th>
                    <th>Issue Assignee</th>
                    <th>IA Status</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>CERT_BASIS_001</td>
                    <td>[Active] Normal download</td>
                    <td>CERT_DTHub_2024</td>
                    <td>TraceTool_PS_Solution</td>
                    <td>Ngo Huu Dat (MS/EJV53)</td>
                    <td><span class="status new">New</span></td>
                  </tr>
                  <tr>
                    <td>CERT_IQT_001</td>
                    <td>[Active] More trials for user</td>
                    <td>CERT_DTHub_2024</td>
                    <td>TraceTool_PS_Solution</td>
                    <td>Vu Duc Anh (MS/EJV53)</td>
                    <td><span class="status new">New</span></td>
                  </tr>
                  <tr>
                    <td>CERT_ADV_ACCESS</td>
                    <td>[OnQueue] Advanced access...</td>
                    <td>ADS_DTHub_2024</td>
                    <td>TraceTool_PS_Solution</td>
                    <td>Hide In Valid User</td>
                    <td><span class="status in-progress">In Progress</span></td>
                  </tr>
                  <tr>
                    <td>CERT_ADV_REQUEST</td>
                    <td>[OnQueue] Advanced control...</td>
                    <td>ADS_DTHub_2024</td>
                    <td>TraceTool_PS_Solution</td>
                    <td>Hide In Valid User</td>
                    <td><span class="status in-progress">In Progress</span></td>
                  </tr>
                  <tr>
                    <td>CERT_ADV_PROC</td>
                    <td>[OnQueue] Process for request...</td>
                    <td>ADS_DTHub_2024</td>
                    <td>TraceTool_PS_Solution</td>
                    <td>Hide In Valid User</td>
                    <td><span class="status in-progress">In Progress</span></td>
                  </tr>
                </tbody>
              </table>
              <div class="table-footer">
                © 2021 Robert Bosch Manufacturing Solutions GmbH, all rights
                reserved
              </div>
            </div>
          </div>
        </div>
      </section>
      <!-- Modal -->
      <div id="modal-container" class="modal hidden">
        <div class="modal-content">
          <span class="close-btn">&times;</span>
          <iframe id="modal-iframe" src="" frameborder="0"></iframe>
        </div>
      </div>
    </div>
    <!-- ............................popup.................................... -->

    <script src="https://www.gstatic.com/firebasejs/8.2.10/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.10/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.10/firebase-storage.js"></script>

    <script>
      // Firebase configuration (replace with your own Firebase config)
      const firebaseConfig = {
        apiKey: "AIzaSyAtj1SB8ZlBhwChqRr7V_9hJQSqCW5zdjo",
        authDomain: "dht-trace.firebaseapp.com",
        projectId: "dht-trace",
        storageBucket: "dht-trace.appspot.com",
        messagingSenderId: "436573278890",
        appId: "1:436573278890:web:1c73f0e0c5f7f8ee60b6d3",
        measurementId: "G-3G5HGVCL6W",
      };
      firebase.initializeApp(firebaseConfig);
    </script>
    <script>
      const userName = sessionStorage.getItem("userName");
      console.log(userName);
      if (userName) {
        const currentHour = new Date().getHours(); // Lấy giờ hiện tại
        let greeting;

        // Xác định thông điệp dựa trên giờ
        if (currentHour < 12) {
          greeting = "Good morning!";
        } else if (currentHour < 18) {
          greeting = "Good afternoon!";
        } else {
          greeting = "Good night!";
        }

        // Hiển thị thông điệp
        document.getElementById(
          "username"
        ).textContent = `${greeting} ${userName}`;
      } else {
        console.log("Không có tên người dùng trong sessionStorage.");
      }
    </script>
    <script>
      const spans = document.querySelectorAll(".progress-bar span");

      spans.forEach((span) => {
        span.style.width = span.dataset.width;
        span.innerHTML = span.dataset.width;
      });
    </script>
    <script>
      const numbers = document.querySelectorAll(".number");
      const svgEl = document.querySelectorAll("svg circle");
      const counters = Array(numbers.length);
      const intervals = Array(counters.length);
      counters.fill(0);

      numbers.forEach((number, index) => {
        intervals[index] = setInterval(() => {
          if (counters[index] === parseInt(number.dataset.num)) {
            clearInterval(counters[index]);
          } else {
            counters[index] += 1;
            number.innerHTML = counters[index] + "%";
            svgEl[index].style.strokeDashoffset = Math.floor(
              472 - 440 * parseFloat(number.dataset.num / 100)
            );
          }
        }, 20);
      });
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.2/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js"></script>
    <script>
      function printContent() {
        const title = `
          <div style="text-align: center; margin-bottom: 20px;">
            <h2>Customer's Orders Statement</h2>
            <p>Detail Report - Component Order Statement</p>
            <p>Date: ${new Date().toLocaleDateString()}</p>
            <p>Approval: Committed</p>
          </div>
        `;

        const printArea = document.getElementById("printableContent").innerHTML;
        const originalContent = document.body.innerHTML;

        // Tạo nội dung mới cho việc in
        document.body.innerHTML = title + printArea;
        window.print();
        document.body.innerHTML = originalContent;
      }
    </script>

    <script src="task_script.js"></script>
  </body>
</html>
